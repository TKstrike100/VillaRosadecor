{% extends 'base.html' %}

{% block title %}Editar Produto no Estoque{% endblock %}

{% block content %}
<h2>Editar Produto no Estoque</h2>
<form method="POST" class="row g-3">
    <div class="col-md-6">
        <label class="form-label">Nome do Produto:</label>
        <input type="text" name="nome_produto" class="form-control" value="{{ produto[1] }}" required>
    </div>
    <div class="col-md-6">
        <label class="form-label">Tipo:</label>
        <select name="tipo" class="form-select" required>
            <option value="Persiana" {% if produto[2] == 'Persiana' %}selected{% endif %}>Persiana</option>
            <option value="Cortina" {% if produto[2] == 'Cortina' %}selected{% endif %}>Cortina</option>
            <option value="Toldo" {% if produto[2] == 'Toldo' %}selected{% endif %}>Toldo</option>
            <option value="Papel de Parede" {% if produto[2] == 'Papel de Parede' %}selected{% endif %}>Papel de Parede</option>
        </select>
    </div>
    <div class="col-md-4">
        <label class="form-label">Quantidade:</label>
        <input type="number" name="quantidade" class="form-control" value="{{ produto[3] }}" required>
    </div>
    <div class="col-md-4">
        <label class="form-label">Status:</label>
        <select name="status" class="form-select" required>
            <option value="Pendente" {% if produto[4] == 'Pendente' %}selected{% endif %}>Pendente</option>
            <option value="Instalado" {% if produto[4] == 'Instalado' %}selected{% endif %}>Instalado</option>
            <option value="Em manutenção" {% if produto[4] == 'Em manutenção' %}selected{% endif %}>Em manutenção</option>
            <option value="Danificado" {% if produto[4] == 'Danificado' %}selected{% endif %}>Danificado</option>
        </select>
    </div>
    <div class="col-md-4">
        <label class="form-label">Cliente:</label>
        <select name="cliente_id" class="form-select">
            <option value="">— Nenhum —</option>
            {% for cliente in clientes %}
                <option value="{{ cliente[0] }}" {% if cliente[0] == produto[5] %}selected{% endif %}>{{ cliente[1] }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="col-md-6">
        <label class="form-label">Data de Entrada:</label>
        <input type="date" name="data_entrada" class="form-control" value="{{ produto[6] }}">
    </div>
    <div class="col-md-6">
        <label class="form-label">Data de Saída:</label>
        <input type="date" name="data_saida" class="form-control" value="{{ produto[7] }}">
    </div>
    <div class="col-md-12">
        <label class="form-label">Observações:</label>
        <textarea name="observacoes" class="form-control" rows="2">{{ produto[8] }}</textarea>
    </div>
    <div class="col-12">
        <button type="submit" class="btn btn-success">Salvar Alterações</button>
        <a href="/estoque" class="btn btn-secondary">Cancelar</a>
    </div>
</form>
{% endblock %}